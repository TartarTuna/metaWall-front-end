import{r as d,a as r,d as n,b as u,Q as m,g as p,R as _,M as B,T as v,o as a,a9 as L,aa as N,ab as V,j as P}from"./index.19086f84.js";import{a as b}from"./post.2cb0e992.js";import{E as f,_ as $}from"./PostCard.181a94ae.js";import"./like.fa534074.js";import"./day.22152a0f.js";import"./_commonjsHelpers.4e997714.js";import"./image.58d5e9bb.js";const q={class:"container mt-7 px-lg-12 mb-12"},M={class:"row"},T={class:"col-lg-7"},U=P("\u8F09\u5165\u4E2D... "),j=P("\u6B64\u8CBC\u6587\u5DF2\u522A\u9664 "),F={key:0,class:"ps-0"},O={props:{userId:{type:String,required:!0},postId:{type:String,required:!0}},setup(k){const i=k,t=d(null),I=d(null),l=d(!1),g=async s=>{const{data:e}=await b(s);return e};(async()=>{if(i){const e=(await g(i.userId)).filter(o=>o._id===i.postId);t.value=e[0],I.value=e}})();const h=s=>{t.value.likes.push({_id:v.value._id})},x=s=>{const e=t.value.likes.findIndex(o=>o._id===v.value._id);~e&&t.value.likes.splice(e,1)},y=({postId:s,comment:e})=>{t.value.comments.push(e)},C=({postId:s,commentId:e,content:o})=>{const c=t.value.comments.find(w=>w._id===e);c.content=o},D=({postId:s,commentId:e})=>{const o=t.value.comments.findIndex(c=>c._id===e);~o&&t.value.comments.splice(o,1)},E=({postId:s,content:e,image:o})=>{t.value.content=e,t.value.image=o},S=s=>{t.value=null,l.value=!0};return(s,e)=>(a(),r(_,null,[n(L),u("section",q,[u("div",M,[u("div",T,[!t.value&&!l.value?(a(),m(f,{key:0},{default:p(()=>[U]),_:1})):!t.value&&l.value?(a(),m(f,{key:1},{default:p(()=>[j]),_:1})):(a(),r(_,{key:2},[t.value?(a(),r("ul",F,[n($,{post:t.value,onPostLike:h,onDeleteLike:x,onPostComment:y,onEditComment:C,onDeleteComment:D,onEditPost:E,onDeletePost:S},null,8,["post"])])):B("",!0)],64))]),n(N)])]),n(V)],64))}};export{O as default};
