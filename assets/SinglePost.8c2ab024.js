import{r as d,a as r,d as n,b as u,P as m,f as p,Q as _,L as w,S as v,o as a,a8 as B,a9 as N,aa as V,i as P}from"./index.1437aae2.js";import{a as $}from"./post.c080fae0.js";import{E as f,_ as b}from"./PostCard.d094e584.js";import"./like.109689a5.js";import"./day.22152a0f.js";import"./_commonjsHelpers.4e997714.js";import"./image.b7591ff8.js";const q={class:"container mt-7 px-lg-12 mb-12"},U={class:"row"},F={class:"col-lg-7"},M=P("\u8F09\u5165\u4E2D... "),Q=P("\u6B64\u8CBC\u6587\u5DF2\u522A\u9664 "),T={key:0,class:"ps-0"},R={props:{userId:{type:String,required:!0},postId:{type:String,required:!0}},setup(k){const i=k,t=d(null),I=d(null),l=d(!1),g=async s=>{const{data:e}=await $(s);return e};(async()=>{if(i){const e=(await g(i.userId)).filter(o=>o._id===i.postId);t.value=e[0],I.value=e}})();const h=s=>{t.value.likes.push({_id:v.value._id})},x=s=>{const e=t.value.likes.findIndex(o=>o._id===v.value._id);~e&&t.value.likes.splice(e,1)},y=({postId:s,comment:e})=>{t.value.comments.push(e)},C=({postId:s,commentId:e,content:o})=>{const c=t.value.comments.find(L=>L._id===e);c.content=o},D=({postId:s,commentId:e})=>{const o=t.value.comments.findIndex(c=>c._id===e);~o&&t.value.comments.splice(o,1)},S=({postId:s,content:e,image:o})=>{t.value.content=e,t.value.image=o},E=s=>{t.value=null,l.value=!0};return(s,e)=>(a(),r(_,null,[n(B),u("section",q,[u("div",U,[u("div",F,[!t.value&&!l.value?(a(),m(f,{key:0},{default:p(()=>[M]),_:1})):!t.value&&l.value?(a(),m(f,{key:1},{default:p(()=>[Q]),_:1})):(a(),r(_,{key:2},[t.value?(a(),r("ul",T,[n(b,{post:t.value,onPostLike:h,onDeleteLike:x,onPostComment:y,onEditComment:C,onDeleteComment:D,onEditPost:S,onDeletePost:E},null,8,["post"])])):w("",!0)],64))]),n(N)])]),n(V)],64))}};export{R as default};
